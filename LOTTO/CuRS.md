# 로또 프로그램 고객 요구사항 명세서 (CuRS)
## Customer Requirements Specification for Lotto Program

**문서 버전**: 1.2  
**작성일**: 2025년 9월 20일  
**최종 수정일**: 2025년 9월 20일  
**프로젝트명**: QT/QML 기반 로또 프로그램

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-09-19 | 초기 문서 작성 | 개발팀 |
| 1.1 | 2025-09-20 | FR-005 적중률 분석 기능 추가, FR 넘버링 재정렬 | 개발팀 |
| 1.2 | 2025-09-20 | GEMINI 리뷰를 통한 문서 검토 및 개선 | GEMINI |

---

## 1. 개요 (Overview)

본 문서는 QT/QML 기술을 활용한 로또 프로그램의 고객 요구사항을 정의합니다.

### 1.1 목적
- 한국 로또 6/45 게임을 시뮬레이션하는 데스크톱 애플리케이션 개발
- 사용자 친화적인 GUI 제공
- 당첨 통계 및 분석 기능 제공

### 1.2 범위
- 로또 번호 생성 및 추첨 시뮬레이션
- 당첨 확인 및 통계 기능
- 과거 당첨번호 데이터 관리
- 적중률 분석 및 성과 추적
- 사용자 설정 관리

---

## 2. 기능 요구사항 (Functional Requirements)

### FR-001: 로또 번호 생성 규칙 시스템
**우선순위**: 높음  
**설명**: 다양한 번호 생성 규칙을 제공하고 사용자가 선택적으로 적용할 수 있어야 한다.

#### FR-001.1: 기본 생성 규칙
- **단순 랜덤**: 완전 무작위 1~45 범위 6개 번호 생성
- **사용자 입력**: 사용자가 직접 입력한 번호 사용
- **제외 번호**: 특정 번호를 제외하고 생성
- **포함 번호**: 특정 번호를 반드시 포함하여 생성
- **범위 제한**: 특정 범위 내에서만 번호 생성 (예: 1-20만 사용)

#### FR-001.2: 고급 생성 규칙
- **통계 기반**: 과거 당첨번호 출현 빈도 기반 생성
- **패턴 기반**: 홀짝 비율, 고저 비율 등 패턴 적용
- **연속번호 제외**: 연속된 번호 조합 방지
- **합계 범위**: 6개 번호 합계가 특정 범위 내
- **구간 분산**: 1-9, 10-19, 20-29, 30-39, 40-45 구간별 균등 분배

#### FR-001.3: 복합 규칙 적용
- 여러 규칙을 동시에 적용 가능
- 규칙 간 우선순위 설정
- 규칙 충돌 시 해결 방안
- 규칙별 가중치 설정

### FR-002: 로또 추첨 시뮬레이션
**우선순위**: 높음  
**설명**: 실제 로또 추첨과 같은 방식으로 당첨 번호를 생성하고 결과를 표시해야 한다.
- 당첨 번호 6개 + 보너스 번호 1개 생성
- 애니메이션 효과가 있는 추첨 과정 표시
- 추첨 결과 저장

### FR-003: 당첨 확인
**우선순위**: 높음  
**설명**: 사용자의 선택 번호와 당첨 번호를 비교하여 당첨 등수를 확인할 수 있어야 한다.
- 1등부터 5등까지 당첨 등수 판정
- 당첨 금액 계산 (가상)
- 당첨 내역 표시

### FR-004: 통계 및 분석
**우선순위**: 중간  
**설명**: 과거 추첨 결과에 대한 통계 정보를 제공해야 한다.
- 번호별 출현 빈도 통계
- 최다/최소 출현 번호 분석
- 당첨 확률 정보 제공
- 차트 및 그래프로 시각화
- 실제 당첨번호 기반 통계 분석
- 번호 조합 패턴 분석
- 홀짝 비율, 고저 비율 분석

### FR-005: 적중률 분석 및 성과 추적
**우선순위**: 높음  
**설명**: 사용자가 생성한 번호와 실제 당첨번호를 비교하여 적중률을 분석하고 성과를 추적할 수 있어야 한다.

#### FR-005.1: 번호 비교 및 적중 분석
- 생성된 번호와 실제 당첨번호 자동 비교
- 회차별 적중 개수 계산 (0개~6개)
- 등수별 적중 내역 기록 (1등, 2등, 3등, 4등, 5등)
- 보너스 번호 적중 여부 확인

#### FR-005.2: 적중률 통계
- 전체 적중률 계산 및 표시
- 번호별 적중 성공률 분석
- 규칙별 성과 비교 분석
- 시간대별 적중률 변화 추이
- 월별/연도별 성과 요약

#### FR-005.3: 성과 시각화
- 적중률 차트 및 그래프 제공
- 등수별 적중 분포 시각화
- 규칙별 성과 비교 차트
- 시계열 성과 추이 그래프
- 대시보드 형태의 성과 요약

#### FR-005.4: 투자 수익률 분석
- 구매 비용 대비 당첨금 계산
- ROI (Return on Investment) 지표 제공
- 손익 분기점 분석
- 누적 손익 추적
- 가상 투자 시뮬레이션

#### FR-005.5: 성과 보고서
- 주간/월간/연간 성과 보고서 생성
- PDF 형태의 상세 분석 보고서
- 이메일을 통한 정기 성과 리포트 발송
- 성과 개선 제안 및 권장사항 제공

### FR-006: 실제 로또 당첨번호 조회
**우선순위**: 높음  
**설명**: 한국 로또 6/45의 실제 당첨번호 데이터를 온라인으로 조회하고 가져올 수 있어야 한다.
- 동행복권 공식 API를 통해 당첨번호 조회
- 회차별 당첨번호 및 당첨금 정보 수집
- 자동 업데이트 기능 (주간 자동 갱신)
- 수동 갱신 기능
- 인터넷 연결 상태 확인
- 오프라인 모드에서는 기존 저장된 데이터 사용

### FR-007: 데이터 관리
**우선순위**: 중간  
**설명**: 과거 추첨 결과와 사용자 구매 내역을 관리할 수 있어야 한다.
- 추첨 결과 저장/불러오기
- 사용자 구매 내역 관리
- 데이터 백업/복원
- CSV/Excel 형태로 데이터 내보내기

### FR-008: 자동 예약 실행 기능
**우선순위**: 중간  
**설명**: 지정된 날짜와 시간에 자동으로 로또 번호를 생성하고 결과를 전송할 수 있어야 한다.
- 날짜 및 시간 예약 설정
- 반복 일정 설정 (매주, 매월, 특정 요일 등)
- 자동 번호 생성 실행
- 백그라운드 실행 지원
- 예약 작업 관리 (추가/수정/삭제)
- 시스템 트레이에서 실행 상태 확인

### FR-009: 이메일 알림 기능
**우선순위**: 중간  
**설명**: 생성된 로또 번호나 당첨 결과를 이메일로 전송할 수 있어야 한다.
- SMTP 서버를 통한 이메일 발송
- 다중 수신자 지원
- 이메일 템플릿 관리
- 첨부 파일 지원 (PDF, 이미지 등)
- 발송 내역 관리
- 이메일 설정 관리 (서버, 포트, 인증)

### FR-010: 사용자 인터페이스
**우선순위**: 높음  
**설명**: 직관적이고 사용하기 쉬운 GUI를 제공해야 한다.

#### FR-010.1: 독립 실행 GUI
- GUI 모듈의 독립적 실행 지원
- 백엔드 서비스와 분리된 클라이언트 구조
- 원격 접속 및 로컬 실행 모드 지원
- 여러 인스턴스 동시 실행 가능

#### FR-010.2: 사용자 친화적 인터페이스
- QML 기반의 현대적인 UI 디자인
- 반응형 레이아웃 (다양한 해상도 지원)
- 다크/라이트 테마 지원
- 접근성 고려 (WAI-ARIA 가이드라인)
- 다국어 지원 준비 (현재는 한국어만)

#### FR-010.3: 애니메이션 및 시각 효과
- **로또 공 추첨 애니메이션**: 실제 추첨과 유사한 시각 효과
- **번호 생성 진행 애니메이션**: 규칙 적용 과정 시각화
- **차트 애니메이션**: 통계 데이터의 부드러운 전환 효과
- **UI 전환 애니메이션**: 페이지 간 부드러운 이동
- **로딩 애니메이션**: 작업 진행 상태 표시
- **성공/실패 피드백**: 시각적 성공/오류 알림

#### FR-010.4: 전용 UI 컴포넌트
- 예약 설정 UI
- 이메일 설정 UI
- 번호 생성 규칙 선택 UI
- 규칙 조합 설정 인터페이스
- 규칙별 설정 옵션 패널
- 통계 대시보드 UI

### FR-011: 규칙 관리 시스템
**우선순위**: 중간  
**설명**: 번호 생성 규칙을 관리하고 사용자 정의 규칙을 저장할 수 있어야 한다.
- 기본 제공 규칙 목록 관리
- 사용자 정의 규칙 생성/편집/삭제
- 규칙 조합 프리셋 저장
- 규칙 사용 이력 및 통계
- 규칙별 성능 분석 (당첨 확률 등)

### FR-012: 배포 및 설치 시스템
**우선순위**: 높음  
**설명**: 사용자가 쉽게 설치하고 업데이트할 수 있는 배포 시스템을 제공해야 한다.

#### FR-012.1: 간편한 설치
- **원클릭 설치**: MSI 또는 NSIS 기반 인스톨러
- **무인 설치**: 자동 설치 옵션 제공
- **최소 설정 설치**: 기본 설정으로 즉시 사용 가능
- **설치 경로 선택**: 사용자 정의 설치 위치
- **시작 메뉴/바탕화면 바로가기 생성**

#### FR-012.2: 패키지 관리
- **의존성 자동 설치**: Qt Runtime 및 필수 라이브러리
- **포터블 버전**: 설치 없이 실행 가능한 버전
- **단일 실행 파일**: 모든 의존성 포함된 실행 파일
- **크기 최적화**: 불필요한 파일 제거로 용량 최소화

#### FR-012.3: 자동 업데이트 (선택사항)
- **업데이트 확인**: 시작 시 또는 수동 업데이트 검사
- **백그라운드 다운로드**: 사용 중에도 업데이트 준비
- **롤백 기능**: 이전 버전으로 복원 가능
- **설정 보존**: 업데이트 후에도 사용자 설정 유지

### FR-013: 시스템 아키텍처 요구사항
**우선순위**: 높음  
**설명**: 모듈화되고 확장 가능한 시스템 구조를 제공해야 한다.

#### FR-013.1: 클라이언트-서버 분리
- **GUI 클라이언트**: 독립 실행 가능한 UI 모듈
- **백엔드 서비스**: 핵심 로직 처리 서비스
- **API 통신**: RESTful API 또는 Qt Remote Objects
- **로컬/원격 모드**: 같은 컴퓨터 또는 네트워크를 통한 접속

#### FR-013.2: 모듈 구조
- **플러그인 아키텍처**: 새로운 규칙을 플러그인으로 추가
- **설정 모듈**: 중앙화된 설정 관리
- **로깅 모듈**: 시스템 로그 및 사용자 활동 기록
- **보안 모듈**: 인증 및 데이터 보호

---

## 3. 비기능 요구사항 (Non-Functional Requirements)

### NFR-001: 성능
- 번호 생성은 1초 이내에 완료되어야 함
- 추첨 애니메이션은 부드럽게 동작해야 함 (60fps)
- 대용량 데이터 처리 시에도 응답성 유지

### NFR-002: 호환성
- Windows 10/11 지원
- QT 6.x 버전 기반
- 최소 해상도 1024x768 지원

### NFR-003: 사용성 및 사용자 경험 (UX)
- 직관적인 사용자 인터페이스 설계
- 주요 기능에 3초 이내 접근 가능
- 시각적 피드백 즉시 제공 (100ms 이내)
- 키보드 단축키 지원
- 한국어 지원
- 도움말 및 사용 가이드 제공

### NFR-004: 신뢰성
- 번호 생성의 무작위성 보장
- 데이터 손실 방지
- 오류 처리 및 복구 기능

### NFR-005: 보안
- 개인 정보 보호
- 데이터 암호화 (필요시)
- 안전한 파일 저장

### NFR-006: 네트워크 연결
- 인터넷 연결 상태 감지 및 처리
- 네트워크 타임아웃 처리 (최대 30초)
- 연결 실패 시 적절한 오류 메시지 제공
- 오프라인 모드 자동 전환

### NFR-007: 스케줄링
- 정확한 시간 기반 작업 실행
- 시스템 재부팅 후에도 예약 작업 유지
- 예약 작업 실행 오류 처리
- 최대 동시 실행 작업 수 제한 (5개)

### NFR-008: 이메일 전송
- 이메일 발송 성공률 95% 이상
- 대용량 첨부파일 지원 (최대 10MB)
- 다양한 SMTP 서버 지원 (Gmail, Outlook, 기업 메일 등)
- 이메일 인증 정보 암호화 저장

### NFR-009: 배포 및 설치
- 설치 시간 5분 이내
- 설치 파일 크기 100MB 이하
- 포터블 버전 50MB 이하
- Windows 10/11 호환성 100%
- 설치 실패율 1% 이하

### NFR-010: 모듈화 및 확장성
- 플러그인 로딩 시간 1초 이내
- 최대 100개 플러그인 동시 로드
- API 응답 시간 100ms 이내
- 모듈 간 결합도 최소화
- 독립적 모듈 테스트 가능

---

## 4. 제약사항 (Constraints)

### 4.1 기술적 제약사항
- QT/QML 프레임워크 사용 필수
- C++ 백엔드와 QML 프론트엔드 구조
- 로컬 데스크톱 애플리케이션으로 제한

### 4.2 비즈니스 제약사항
- 실제 로또 구매 기능 없음 (시뮬레이션만)
- 실제 당첨금 지급 없음
- 개인 사용 목적

### 4.3 환경적 제약사항
- 오프라인 환경에서도 기본 동작 가능
- 인터넷 연결 필수 (실제 당첨번호 조회용)
- 온라인/오프라인 모드 지원

### 4.4 데이터 제약사항
- 동행복권 공식 데이터만 사용
- 필요 최소한의 개인정보만 수집 및 사용
- 로컬 데이터 저장 용량 제한 (최대 100MB)

### 4.5 이메일 제약사항
- 개인 이메일 정보만 사용 (상업적 용도 금지)
- 스팸 방지 정책 준수
- 일일 이메일 발송 제한 (최대 50통)
- 이메일 인증 정보 로컬 저장만 허용

### 4.6 배포 제약사항
- Windows 플랫폼만 지원 (v1.0)
- 64비트 시스템 필수
- 관리자 권한 설치 (일부 기능)
- 인터넷 연결 필요 (초기 설정 및 업데이트)

### 4.7 아키텍처 제약사항
- Qt/QML 프레임워크 의존성
- SQLite 데이터베이스 사용
- 단일 사용자 모드 (v1.0)
- 클라이언트-서버 분리 구조 필수

---

## 5. 사용자 시나리오 (User Scenarios)

### 시나리오 1: 독립 GUI 실행 및 연결
1. 사용자가 GUI 클라이언트를 독립적으로 실행한다
2. 백엔드 서비스 연결 상태를 확인한다
3. 로컬 서비스가 없으면 자동으로 시작하거나 원격 서버에 연결한다
4. 연결 성공 시 로딩 애니메이션과 함께 메인 화면이 나타난다
5. 애니메이션 효과와 함께 사용 가능한 기능들이 표시된다

### 시나리오 2: 간편 설치 및 첫 실행
1. 사용자가 설치 파일을 다운로드한다
2. 원클릭으로 설치가 시작된다
3. 필요한 의존성들이 자동으로 설치된다
4. 설치 완료 후 바로가기가 생성된다
5. 첫 실행 시 초기 설정 위저드가 나타난다
6. 기본 설정으로 즉시 사용 가능한 상태가 된다

### 시나리오 3: 규칙 기반 번호 생성
1. 사용자가 애플리케이션을 실행한다
2. "번호 생성 규칙" 메뉴를 선택한다
3. 원하는 생성 규칙을 선택한다 (단일 또는 복수)
   - 단순 랜덤 + 제외 번호 (1, 13, 44)
   - 통계 기반 + 홀짝 비율 (3:3)
   - 구간 분산 + 연속번호 제외
4. 각 규칙의 세부 옵션을 설정한다
5. 규칙 조합을 저장하거나 기존 프리셋을 선택한다
6. "번호 생성" 버튼을 클릭한다
7. 애니메이션과 함께 설정된 규칙에 따라 번호가 생성된다
8. 생성 과정과 적용된 규칙이 시각적으로 표시된다

### 시나리오 4: 예약 작업 설정
1. 사용자가 "예약 설정" 메뉴를 선택한다
2. 실행 날짜와 시간을 설정한다
3. 반복 일정을 선택한다 (매주 목요일, 매월 첫째 주 등)
4. 적용할 번호 생성 규칙을 선택한다
5. 생성할 번호 개수를 설정한다
6. 이메일 수신자를 설정한다
7. 예약 작업을 저장한다
8. 설정된 시간에 자동으로 선택된 규칙에 따라 번호가 생성되고 이메일로 전송된다

### 시나리오 5: 사용자 정의 규칙 생성
1. 사용자가 "규칙 관리" 메뉴를 선택한다
2. "새 규칙 만들기"를 클릭한다
3. 규칙 이름을 입력한다 (예: "내만의 행운 번호")
4. 기본 규칙들을 조합한다
   - 포함 번호: 7, 21 (생일, 기념일)
   - 제외 번호: 4, 13 (기피 번호)
   - 홀짝 비율: 4:2 (홀수 선호)
   - 합계 범위: 120-180
5. 규칙을 저장한다
6. 저장된 규칙으로 번호를 생성 테스트한다

### 시나리오 6: 실제 당첨번호 조회 및 업데이트
1. 사용자가 애플리케이션을 실행한다
2. "당첨번호 업데이트" 메뉴를 선택한다
3. 시스템이 인터넷 연결을 확인한다
4. 최신 당첨번호를 동행복권에서 가져온다
5. 로컬 데이터베이스에 저장한다
6. 업데이트 완료 메시지를 표시한다

### 시나리오 7: 수동 이메일 전송
1. 사용자가 로또 번호를 생성한다
2. "이메일 전송" 버튼을 클릭한다
3. 수신자 이메일 주소를 입력한다
4. 이메일 제목과 내용을 작성한다
5. 첨부할 파일을 선택한다 (선택사항)
6. "전송" 버튼을 클릭한다
7. 이메일 전송 결과를 확인한다

### 시나리오 8: 로또 번호 생성 및 추첨
1. 사용자가 애플리케이션을 실행한다
2. "번호 생성" 버튼을 클릭하여 자동 번호를 생성한다
3. "추첨 시작" 버튼을 클릭한다
4. 로또 공 애니메이션과 함께 당첨 번호가 표시된다
5. 시각적 효과와 함께 당첨 결과를 확인한다

### 시나리오 9: 실제 당첨번호와 비교
1. 사용자가 자신이 생성했거나 직접 입력한 번호를 선택한다.
2. '과거 당첨번호와 비교' 기능을 선택하고 원하는 회차를 지정한다.
3. 시스템이 번호를 비교하여 당첨 여부, 등수, 예상 상금을 표시한다.

### 시나리오 10: 통계 분석 및 활용
1. 사용자가 "통계" 메뉴를 선택한다.
2. '번호별 출현 빈도' 탭을 선택하여 차트로 시각화된 데이터를 분석한다.
3. '규칙별 성능' 탭으로 전환하여, 자신이 사용했던 규칙들의 ROI와 당첨률을 비교한다.
4. 분석 결과를 바탕으로 다음 회차에 사용할 새로운 규칙 조합을 구상한다.

---

## 6. 승인 기준 (Acceptance Criteria)

- [ ] 모든 기능 요구사항이 구현되어야 함
- [ ] 사용자 인터페이스가 직관적이고 사용하기 쉬워야 함
- [ ] 성능 요구사항을 만족해야 함
- [ ] 오류 없이 안정적으로 동작해야 함
- [ ] 테스트 케이스를 모두 통과해야 함

---

**검토자**: [검토자명]  
**승인자**: [승인자명]  
**승인일**: [승인일]